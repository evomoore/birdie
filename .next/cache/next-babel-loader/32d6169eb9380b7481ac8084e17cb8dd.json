{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/a206613345/Desktop/Birdie/birdie-site/birdie-frontend/birdie-app/pages/index.js\";\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport PostListing from '../components/PostListing';\nimport ItemCarousel from '../components/ItemCarousel';\nimport Footer from '../components/Footer';\nimport fetch from 'isomorphic-unfetch';\n\nconst Home = ({\n  posts,\n  destinations\n}) => {\n  let postCounter = 0;\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Container, {\n      className: \"posts-container\",\n      fluid: true,\n      children: /*#__PURE__*/_jsxDEV(Row, {\n        children: posts.map(post => {\n          var _post$Destination;\n\n          if (post.Orientation == 'Portrait') {\n            postCounter = postCounter + 1;\n          } else {\n            postCounter = postCounter + 2;\n          }\n\n          if ((_post$Destination = post.Destination) === null || _post$Destination === void 0 ? void 0 : _post$Destination.parent_destination) {\n            const parent_destination = destinations.filter(function id(destination) {\n              return destination.id == post.Destination.parent_destination;\n            })[0];\n\n            if (postCounter == 12) {\n              return /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(PostListing, {\n                  post: post,\n                  parent_destination: parent_destination\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 34,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(Col, {\n                  sm: \"12\",\n                  md: \"12\",\n                  lg: \"12\",\n                  className: \"carousel-container\",\n                  children: /*#__PURE__*/_jsxDEV(ItemCarousel, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 36,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 35,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true);\n            } else {\n              return /*#__PURE__*/_jsxDEV(PostListing, {\n                post: post,\n                parent_destination: parent_destination\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 42,\n                columnNumber: 21\n              }, this);\n            }\n          } else {\n            if (postCounter == 12) {\n              return /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(PostListing, {\n                  post: post\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 49,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(Col, {\n                  sm: \"12\",\n                  md: \"12\",\n                  lg: \"12\",\n                  className: \"carousel-container\",\n                  children: /*#__PURE__*/_jsxDEV(ItemCarousel, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 51,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 50,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true);\n            } else {\n              return /*#__PURE__*/_jsxDEV(PostListing, {\n                post: post\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 57,\n                columnNumber: 21\n              }, this);\n            }\n          }\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 16,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\nexport async function getServerSideProps() {\n  const {\n    API_URL\n  } = process.env;\n  const res_1 = await fetch(`${API_URL}/photo_journals`);\n  const post_data = await res_1.json();\n  const res_2 = await fetch(`${API_URL}/destinations`);\n  const destinations_data = await res_2.json();\n  return {\n    props: {\n      posts: post_data,\n      destinations: destinations_data\n    }\n  };\n}\nexport default Home;","map":{"version":3,"sources":["/Users/a206613345/Desktop/Birdie/birdie-site/birdie-frontend/birdie-app/pages/index.js"],"names":["Container","Row","Col","PostListing","ItemCarousel","Footer","fetch","Home","posts","destinations","postCounter","map","post","Orientation","Destination","parent_destination","filter","id","destination","getServerSideProps","API_URL","process","env","res_1","post_data","json","res_2","destinations_data","props"],"mappings":"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","sourcesContent":["import Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport PostListing from '../components/PostListing'\nimport ItemCarousel from '../components/ItemCarousel'\nimport Footer from '../components/Footer'\nimport fetch from 'isomorphic-unfetch'\n\nconst Home = ({ posts, destinations }) => {\n\n  let postCounter = 0;\n\n  return (\n    <>\n      <Container className=\"posts-container\" fluid>\n        <Row>\n          {\n            posts.map(post => {\n\n              if (post.Orientation == 'Portrait') {\n                postCounter = postCounter + 1\n              } else {\n                postCounter = postCounter + 2\n              }\n\n              if (post.Destination?.parent_destination) {\n                const parent_destination = destinations.filter(function id(destination) {\n                  return destination.id == post.Destination.parent_destination;\n                })[0]\n\n                if (postCounter == 12) {\n                  return (\n                    <>\n                      <PostListing post={post} parent_destination={parent_destination} />\n                      <Col sm=\"12\" md=\"12\" lg=\"12\" className=\"carousel-container\">\n                        <ItemCarousel />\n                      </Col>\n                    </>\n                  )\n                } else {\n                  return (\n                    <PostListing post={post} parent_destination={parent_destination} />\n                  )\n                }\n              } else {\n                if (postCounter == 12) {\n                  return (\n                    <>\n                      <PostListing post={post} />\n                      <Col sm=\"12\" md=\"12\" lg=\"12\" className=\"carousel-container\">\n                        <ItemCarousel />\n                      </Col>\n                    </>\n                  )\n                } else {\n                  return (\n                    <PostListing post={post} />\n                  )\n                }\n              }\n            })\n          }\n        </Row>\n      </Container>\n      <Footer />\n    </>\n  )\n}\n\nexport async function getServerSideProps()  {\n  const { API_URL } = process.env\n\n  const res_1 = await fetch(`${API_URL}/photo_journals`)\n  const post_data = await res_1.json()\n\n  const res_2 = await fetch(`${API_URL}/destinations`)\n  const destinations_data = await res_2.json()\n\n  return {\n    props: {\n      posts: post_data,\n      destinations: destinations_data\n    }\n  }\n}\n\nexport default Home\n"]},"metadata":{},"sourceType":"module"}