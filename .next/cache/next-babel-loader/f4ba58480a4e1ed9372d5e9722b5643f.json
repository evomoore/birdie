{"ast":null,"code":"import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport PostListing from '../components/PostListing';\nimport ItemCarousel from '../components/ItemCarousel';\nimport Footer from '../components/Footer';\nimport fetch from 'isomorphic-unfetch';\n\nconst Home = ({\n  posts,\n  destinations\n}) => {\n  let postCounter = 0;\n  return /*#__PURE__*/_jsxs(_Fragment, {\n    children: [/*#__PURE__*/_jsx(Container, {\n      className: \"posts-container\",\n      fluid: true,\n      children: /*#__PURE__*/_jsx(Row, {\n        children: posts.map(post => {\n          var _post$Destination;\n\n          let parent_destination = false;\n\n          if ((_post$Destination = post.Destination) === null || _post$Destination === void 0 ? void 0 : _post$Destination.parent_destination) {\n            parent_destination = destinations.filter(function id(destination) {\n              return destination.id == post.Destination.parent_destination;\n            })[0];\n          }\n\n          switch (postCounter) {\n            case 0:\n              postCounter = postCounter + 1;\n              return /*#__PURE__*/_jsx(PostListing, {\n                post: post,\n                parent_destination: parent_destination,\n                orientation: 'Landscape'\n              });\n              break;\n\n            case 1:\n              postCounter = postCounter + 1;\n              return /*#__PURE__*/_jsx(PostListing, {\n                post: post,\n                parent_destination: parent_destination,\n                orientation: 'Portrait'\n              });\n              break;\n\n            case 2:\n              postCounter = postCounter + 1;\n              return /*#__PURE__*/_jsx(PostListing, {\n                post: post,\n                parent_destination: parent_destination,\n                orientation: 'Portrait'\n              });\n              break;\n\n            case 3:\n              postCounter = postCounter + 1;\n              return /*#__PURE__*/_jsx(PostListing, {\n                post: post,\n                parent_destination: parent_destination,\n                orientation: 'Portrait'\n              });\n              break;\n\n            case 4:\n              postCounter = postCounter + 1;\n              return /*#__PURE__*/_jsx(PostListing, {\n                post: post,\n                parent_destination: parent_destination,\n                orientation: 'Portrait'\n              });\n              break;\n\n            case 5:\n              postCounter = postCounter + 1;\n              return /*#__PURE__*/_jsxs(_Fragment, {\n                children: [/*#__PURE__*/_jsx(PostListing, {\n                  post: post,\n                  parent_destination: parent_destination,\n                  orientation: 'Landscape'\n                }), /*#__PURE__*/_jsx(Col, {\n                  sm: \"12\",\n                  md: \"12\",\n                  lg: \"12\",\n                  className: \"carousel-container\",\n                  children: /*#__PURE__*/_jsx(ItemCarousel, {})\n                })]\n              });\n              break;\n\n            case 6:\n              postCounter = postCounter + 1;\n              return /*#__PURE__*/_jsx(PostListing, {\n                post: post,\n                parent_destination: parent_destination,\n                orientation: 'Portrait'\n              });\n              break;\n\n            case 7:\n              postCounter = postCounter + 1;\n              return /*#__PURE__*/_jsx(PostListing, {\n                post: post,\n                parent_destination: parent_destination,\n                orientation: 'Portrait'\n              });\n              break;\n\n            case 8:\n              postCounter = postCounter + 1;\n              return /*#__PURE__*/_jsx(PostListing, {\n                post: post,\n                parent_destination: parent_destination,\n                orientation: 'Landscape'\n              });\n              break;\n\n            default: // code block\n\n          }\n        })\n      })\n    }), /*#__PURE__*/_jsx(Footer, {})]\n  });\n};\n\nexport async function getServerSideProps() {\n  const {\n    API_URL\n  } = process.env;\n  const res_1 = await fetch(`${API_URL}/posts`);\n  const post_data = await res_1.json();\n  const res_2 = await fetch(`${API_URL}/destinations`);\n  const destinations_data = await res_2.json();\n  return {\n    props: {\n      posts: post_data,\n      destinations: destinations_data\n    }\n  };\n}\nexport default Home;","map":null,"metadata":{},"sourceType":"module"}